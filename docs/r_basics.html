<!DOCTYPE html>
<html lang="en"><head>
<script src="r_basics_files/libs/clipboard/clipboard.min.js"></script>
<script src="r_basics_files/libs/quarto-html/tabby.min.js"></script>
<script src="r_basics_files/libs/quarto-html/popper.min.js"></script>
<script src="r_basics_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="r_basics_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="r_basics_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="r_basics_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.475">

  <title>Làm sạch (p1)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="r_basics_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="r_basics_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="r_basics_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="r_basics_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="r_basics_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="r_basics_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="r_basics_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Làm sạch (p1)</h1>
  <p class="subtitle">R for babies</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="mục-tiêu" class="slide level2">
<h2>Mục tiêu</h2>
<ol type="1">
<li>Hiểu các thuật ngữ trong R</li>
<li>Hiểu các datatype trong R</li>
<li>Học các thao tác cơ bản khi làm việc với data.frame</li>
<li>Học về các package hỗ trợ khi làm việc với các datatype phức tạp hơn (string, Date)</li>
</ol>
</section>
<section>
<section id="các-khái-niệm-trong-r" class="title-slide slide level1 center">
<h1>Các khái niệm trong R</h1>

</section>
<section id="đối-tượng-trong-r" class="slide level2">
<h2>Đối tượng trong R</h2>
<p>Mọi thứ được lưu trữ trong R - bao gồm bộ dữ liệu, biến số, danh sách tên cột, kết quả đầu ra như biểu đồ - đều là <strong>các đối tượng</strong>, được <strong>gán tên</strong> và <strong>có thể được tham chiếu</strong> trong các lệnh sau đó.</p>
<p>Để tạo đối tượng trong R, ta dùng cú pháp sau</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>tên_đối_tượng <span class="ot">&lt;-</span> giá_trị_của_đối_tượng </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>VD</strong>: Đọc file <code>vaccine_data.xlsx</code> để sử dụng trong bài học</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co"># tạo đối tượng file_path để lưu trữ đường dẫn đến file excel</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>data_path <span class="ot">&lt;-</span> <span class="st">"data/vaccine_data.xlsx"</span></span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co"># tạo đối tượng df lưu trữ bảng dữ liệu đọc từ file excel</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>df <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="at">path =</span> data_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="đối-tượng-trong-r-1" class="slide level2">
<h2>Đối tượng trong R</h2>
<p>Sau khi tạo các đối tượng, ta có thể thử xem giá trị được lưu trữ</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>data_path</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data/vaccine_data.xlsx"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># sử dụng lệnh head để xem 6 hàng đầu thay vì toàn bộ bảng</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">head</span>(df) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 21
     id gioitinh ngaysinh   huyen    xa    tinh  `VGB &lt;24` `VGB &gt;24` VGB_1 VGB_2
  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;
1     1 nam      19/02/2024 Bình Ch… Xã T… Thàn… 20/02/20… 20/02/20… 28/0… 05/0…
2     2 nam      04/03/2024 Huyện S… Phườ… Thàn… 04/03/20… 04/03/20… 18/0… &lt;NA&gt; 
3     3 nữ       29/02/2024 Quận 12  Trun… Thàn… &lt;NA&gt;      01/03/20… 01/0… 05/0…
4     4 nữ       10/02/2024 Cần Giờ  Xã T… Thàn… 10/02/20… 10/02/20… 19/0… &lt;NA&gt; 
5     5 nữ       21/03/2024 Thành p… Phườ… Thàn… 22/03/20… 22/03/20… &lt;NA&gt;  30/0…
6     6 nam      31/01/2024 Quận 6   Xã B… Thàn… 31/01/20… 31/01/20… 14/0… &lt;NA&gt; 
# ℹ 11 more variables: VGB_3 &lt;chr&gt;, `VGB4+` &lt;chr&gt;, HG_1 &lt;chr&gt;, HG_2 &lt;chr&gt;,
#   HG_3 &lt;chr&gt;, `HG4+` &lt;chr&gt;, UV_1 &lt;chr&gt;, UV_2 &lt;chr&gt;, UV_3 &lt;chr&gt;,
#   `UV_4+` &lt;chr&gt;, tinhtrang &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="đối-tượng-trong-r-2" class="slide level2">
<h2>Đối tượng trong R</h2>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Lưu ý</strong></p>
</div>
<div class="callout-content">
<p>Giá trị của một đối tượng <strong>có thể bị ghi đè</strong> bất kỳ lúc nào bằng cách chạy lệnh gán để định nghĩa lại giá trị của nó. Do đó, <strong>thứ tự của các lệnh được chạy rất quan trọng</strong>.</p>
<p>VD: lệnh sau sẽ ghi đè giá trị của đối tượng <code>data_path</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>data_path <span class="ot">&lt;-</span> <span class="st">"data/new_path.xlsx"</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co"># kiểm tra giá trị </span></span>
<span id="cb7-3"><a href="#cb7-3"></a>data_path</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data/new_path.xlsx"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="câu-văn-trong-r" class="slide level2">
<h2>Câu văn trong R</h2>
<p>Câu lệnh (command) hoặc hàm (function) chính là những câu văn trong R để giao tiếp với máy tính. Một câu lệnh trong R thường có dạng như sau:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>tên<span class="sc">-</span>câu<span class="sc">-</span>lệnh(tên<span class="sc">-</span>tham<span class="sc">-</span>số <span class="ot">=</span> data<span class="sc">-</span>đầu<span class="sc">-</span>vào hoặc lựa<span class="sc">-</span>chọn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Tên câu lệnh: nằm trước dấu <code>()</code>, thể hiện ý nghĩa câu lệnh dùng để làm gì.</li>
<li>Tên tham số (argument): những điều chỉnh cụ thể để máy tính hiểu rõ hơn yêu cầu của người dùng.</li>
<li>Dấu <code>=</code>: dùng để gán 1 giá trị cho tham số.</li>
</ul>
<aside class="notes">
<p>Chúng ta phải học ngữ pháp của 1 câu lệnh và ý nghĩa của nó để có thể sử dụng R để ra lệnh cho máy tính.</p>
<ul>
<li>Tên câu lệnh: nằm trước dấu (), thể hiện ý nghĩa câu lệnh dùng để làm gì.</li>
<li>Tên tham số (argument): nằm trong dấu () là những tham số của câu lệnh đó. Tham số là những yêu cầu nhỏ và cụ thể để máy tính hiểu rõ hơn yêu cầu của người dùng.</li>
<li>Dấu =: dùng để gán 1 giá trị cho tham số.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="câu-văn-trong-r-1" class="slide level2">
<h2>Câu văn trong R</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">max</span>(<span class="at">x =</span> df<span class="sc">$</span>id, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1000</code></pre>
</div>
</div>
<div>
<ul>
<li class="fragment">Tên câu lệnh là <code>max</code>: tìm giá trị lớn nhất của 1 biến.</li>
<li class="fragment">Các tham số là <code>x</code> và <code>na.rm</code>:
<ul>
<li class="fragment"><code>x</code>: là data đầu vào, <code>x = df$id</code> quy định <code>x</code> là cột <code>id</code> của bảng data <code>df</code>.</li>
<li class="fragment"><code>na.rm</code>: lựa chọn cách giải quyết missing value (NA), <code>na.rm = TRUE</code> nghĩa là bỏ giá trị <code>NA</code> đi trước khi tìm giá trị lớn nhất.</li>
</ul></li>
</ul>
</div>
</section>
<section id="câu-văn-trong-r-2" class="slide level2">
<h2>Câu văn trong R</h2>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Để đọc hướng dẫn sử dụng về câu lệnh, gõ <code>?tên-câu-lệnh</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>?max</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Output sẽ hiện trong RStudio như sau</p>
<p><img data-src="img/clean_p1/helper_result.png" width="319"></p>
</div>
</div>
</div>
</section>
<section id="loại-dữ-liệu-datatype-trong-r" class="slide level2">
<h2>Loại dữ liệu (datatype) trong R</h2>
<div class="r-fit-text">
<p>Trong R, mỗi đối tượng được quy định phải theo 1 loại dữ liệu (datatype) nhất định</p>
<table style="width:99%;">
<colgroup>
<col style="width: 10%">
<col style="width: 67%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Datatype</th>
<th>Ý nghĩa</th>
<th>Ví dụ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>numeric</code></td>
<td>dữ liệu dạng số</td>
<td>-1, -2, 0, 1.5, …</td>
</tr>
<tr class="even">
<td><code>logical</code></td>
<td>dữ liệu dạng đúng/sai</td>
<td>[TRUE, FALSE] hoặc [1, 0]</td>
</tr>
<tr class="odd">
<td><code>character</code></td>
<td>dữ liệu dạng ký tự (hay còn gọi là string), được đặt trong dấu ngoặc kép <code>""</code>.<br>
đối tượng dạng ký tự thì <strong>không thể tính toán</strong></td>
<td></td>
</tr>
<tr class="even">
<td><code>Date</code></td>
<td>dữ liệu ngày tháng</td>
<td>2024-04-01, 2024-04-02, …</td>
</tr>
<tr class="odd">
<td><code>factor</code></td>
<td>dữ liệu dạng phân loại (categorical)</td>
<td>giới tính: nam, nữ<br>
tỉnh thành<br>
dân tộc</td>
</tr>
<tr class="even">
<td><code>data.frame</code></td>
<td>dữ liệu dạng bảng</td>
<td></td>
</tr>
<tr class="odd">
<td><code>tibble</code></td>
<td>dữ liệu dạng bảng tương tự như data.frame, sự khác biệt chính là tibble in đẹp hơn trong R console</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<aside class="notes">
<ul>
<li><p>character: đối tượng dạng ký tự thì <strong>không thể tính toán</strong></p></li>
<li><p>dữ liệu dạng bảng tương tự như data.frame, sự khác biệt chính là tibble in đẹp hơn trong R console</p></li>
</ul>
<p>Các datatype thường gặp trong R <code>numeric</code>, <code>logical</code>, <code>character</code>, <code>Date</code>, <code>factor</code>, <code>data.frame</code>/<code>tibble</code></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="loại-dữ-liệu-datatype-trong-r-1" class="slide level2">
<h2>Loại dữ liệu (datatype) trong R</h2>
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Để kiểm tra datatype của 1 đối tượng, sử dụng lệnh <code>class(tên_đối_tượng)</code></p>
<p>Để kiểm tra datatype của các cột trong data.frame, ta có thể sử dụng lệnh <code>str</code> hoặc kiểm tra tại mục <code>Data</code> của RStudio</p>
<p><img data-src="img/clean_p1/view_datatype.png" width="333"></p>
</div>
</div>
</div>
</section>
<section id="loại-dữ-liệu-datatype-trong-r-2" class="slide level2">
<h2>Loại dữ liệu (datatype) trong R</h2>
<p>VD: kiểm tra bằng lệnh <code>str</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># kiểm tra datatype của df</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="fu">class</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># kiểm tra datatype của các cột trong df</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="fu">str</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [1,000 × 21] (S3: tbl_df/tbl/data.frame)
 $ id       : num [1:1000] 1 2 3 4 5 6 7 8 9 10 ...
 $ gioitinh : chr [1:1000] "nam" "nam" "nữ" "nữ" ...
 $ ngaysinh : chr [1:1000] "19/02/2024" "04/03/2024" "29/02/2024" "10/02/2024" ...
 $ huyen    : chr [1:1000] "Bình Chánh" "Huyện Sơn Tịnh" "Quận 12" "Cần Giờ" ...
 $ xa       : chr [1:1000] "Xã Tân Quý Tây" "Phường 12" "Trung Mỹ Tây" "Xã Thạnh An" ...
 $ tinh     : chr [1:1000] "Thành phố Hồ Chí Minh" "Thành phố Hồ Chí Minh" "Thành phố Hồ Chí Minh" "Thành phố Hồ Chí Minh" ...
 $ VGB &lt;24  : chr [1:1000] "20/02/2024" "04/03/2024" NA "10/02/2024" ...
 $ VGB &gt;24  : chr [1:1000] "20/02/2024" "04/03/2024" "01/03/2024" "10/02/2024" ...
 $ VGB_1    : chr [1:1000] "28/02/2024" "18/03/2024" "01/03/2024" "19/02/2024" ...
 $ VGB_2    : chr [1:1000] "05/03/2024" NA "05/03/2024" NA ...
 $ VGB_3    : chr [1:1000] "05/03/2024" "17/04/2024" NA "18/03/2024" ...
 $ VGB4+    : chr [1:1000] "06/03/2024" "21/04/2024" NA "02/04/2024" ...
 $ HG_1     : chr [1:1000] "20/02/2024" "04/03/2024" "01/03/2024" "10/02/2024" ...
 $ HG_2     : chr [1:1000] "05/03/2024" "19/03/2024" "08/03/2024" "17/02/2024" ...
 $ HG_3     : chr [1:1000] "04/03/2024" NA "20/03/2024" "17/02/2024" ...
 $ HG4+     : chr [1:1000] "04/03/2024" "03/04/2024" "03/04/2024" "18/02/2024" ...
 $ UV_1     : chr [1:1000] "20/02/2024" "04/03/2024" "01/03/2024" NA ...
 $ UV_2     : chr [1:1000] "03/03/2024" "16/03/2024" "14/03/2024" "23/02/2024" ...
 $ UV_3     : chr [1:1000] "10/03/2024" "20/03/2024" NA "02/03/2024" ...
 $ UV_4+    : chr [1:1000] "14/03/2024" "29/03/2024" "27/03/2024" "06/03/2024" ...
 $ tinhtrang: chr [1:1000] "ngừng theo dõi" "ngừng theo dõi" "ngừng theo dõi" "theo dõi" ...</code></pre>
</div>
</div>
</section>
<section id="update_datatype" class="slide level2">
<h2>Chuyển đổi datatype</h2>
<div class="r-fit-text">
<p>Cú pháp chung cho thay đổi datatype là <code>as.datatype()</code></p>
<p>Ví dụ như:</p>
<ul>
<li><p><code>as.numeric()</code> chuyển thành định dạng số.</p></li>
<li><p><code>as.character()</code> chuyển thành định dạng văn bản.</p></li>
<li><p><code>as.factor()</code> chuyển thành định dạng factor.</p></li>
<li><p><code>as.Date()</code> chuyển thành định dạng ngày.</p></li>
</ul>
<p>Ngoài ra, còn có các lệnh khác để phục vụ cho các mục đích cụ thể hơn, bao gồm:</p>
<ul>
<li><p><code>ifelse()</code> chuyển thành định dạng logical theo điều kiện nhất định</p></li>
<li><p><code>is.na()</code> chuyển thành định dạng logical, các dữ liệu trống (<code>NA</code>) có giá trị <code>TRUE</code> và ngược lại.</p></li>
<li><p><code>dmy()</code>, <code>ymd()</code>, <code>mdy()</code>, … chuyển đổi string theo các format khác nhau thành định dạng ngày</p></li>
</ul>
</div>
</section></section>
<section>
<section id="sec-df-row-col" class="title-slide slide level1 center">
<h1>Các thao tác thông dụng với data.frame</h1>

</section>
<section id="làm-sạch-tên-cột" class="slide level2">
<h2>Làm sạch tên cột</h2>
<div class="r-fit-text">
<p>Trong R, tên cột là giá trị trên đỉnh của một cột.</p>
<p>Các quy tắc cho tên cột thường bao gồm:</p>
<ul>
<li><p>Tên ngắn</p></li>
<li><p>Không có khoảng trắng (thay thế bằng dấu gạch dưới _ ).</p></li>
<li><p>Không có ký tự đặc biệt (&amp;, #, &lt;, &gt;, …) hoặc dấu.</p></li>
<li><p>Không bắt đầu bằng số.</p></li>
</ul>
<p>Lệnh <code>clean_names()</code> của package <code>janitor</code> được sử dụng để tự động hoá quá trình chuẩn hoá tên cột. Ngoài ra, lệnh <code>rename()</code> của package <code>dplyr</code> được sử dụng để thay đổi tên cột một cách thủ công.</p>
</div>
</section>
<section id="làm-sạch-tên-cột-1" class="slide level2">
<h2>Làm sạch tên cột</h2>
<p>VD:</p>
<div class="cell" data-warnings="false">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">library</span>(janitor)</span>
<span id="cb17-3"><a href="#cb17-3"></a>df <span class="sc">%&gt;%</span> <span class="fu">colnames</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "id"        "gioitinh"  "ngaysinh"  "huyen"     "xa"        "tinh"     
 [7] "VGB &lt;24"   "VGB &gt;24"   "VGB_1"     "VGB_2"     "VGB_3"     "VGB4+"    
[13] "HG_1"      "HG_2"      "HG_3"      "HG4+"      "UV_1"      "UV_2"     
[19] "UV_3"      "UV_4+"     "tinhtrang"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="fu">colnames</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "id"        "gioitinh"  "ngaysinh"  "huyen"     "xa"        "tinh"     
 [7] "vgb_24"    "vgb_24_2"  "vgb_1"     "vgb_2"     "vgb_3"     "vgb4"     
[13] "hg_1"      "hg_2"      "hg_3"      "hg4"       "uv_1"      "uv_2"     
[19] "uv_3"      "uv_4"      "tinhtrang"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> <span class="co"># dùng clean names để tự động làm sạch tên cột</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">rename</span>( <span class="co"># dùng rename để chỉnh sửa thêm</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>    <span class="at">vgb_truoc_24 =</span> vgb_24,</span>
<span id="cb21-5"><a href="#cb21-5"></a>    <span class="at">vgb_sau_24 =</span> vgb_24_2</span>
<span id="cb21-6"><a href="#cb21-6"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<ul>
<li><p>Dấu <code>&lt;-</code> được sử dụng ở VD trên để <strong>gán giá trị mới</strong> vào cột Country (tương đương việc UPDATE cột)</p></li>
<li><p>Nếu không sử dụng <code>&lt;-</code> thì R chỉ trả về kết quả của các câu lệnh nhưng bảng df sẽ <strong>không</strong> có thay đổi</p></li>
</ul>
<p>Lệnh <code>colnames</code> được sử dụng để xem danh sách tên các cột trong bảng</p>
<p>Dấu pipe</p>
<p><code>%&gt;%</code> được dùng để chuyển đối tượng vào 1 function (trong VD đầu, <code>%&gt;%</code> chuyển <code>df</code> vào function <code>colnames</code>)</p>
<p><code>%&gt;%</code> còn thường được dùng để chuyển các kết quả trung gian sang function tiếp theo, từ đó có thể dùng để nối 1 chuỗi các function để thao tác trên 1 đối tượng</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="lấy-dữ-liệu-theo-hàngcột" class="slide level2">
<h2>Lấy dữ liệu theo hàng/cột</h2>
<div class="r-fit-text">
<ul>
<li><p>Cú pháp: <code>tên_bảng_dữ_liệu[hàng, cột]</code>. Trong đó cột có thể là số thứ tự của cột hoặc tên cột.</p></li>
<li><p>Để lấy toàn bộ hàng thì để trống cột và ngược lại</p></li>
<li><p>Để lấy nhiều cột hay hàng thì cho tên cột hay hàng theo dạng list (chuỗi)</p></li>
</ul>
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Đối với cột, còn có cách trích xuất thông dụng khác bằng cách sử dụng dấu <code>$</code>.</p>
<p>Tuy nhiên, cách này sẽ chỉ trích xuất dữ liệu trong 1 cột.<br>
<strong>VD</strong>: Lấy dữ liệu trong cột ngày sinh</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>df<span class="sc">$</span>ngaysinh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="lấy-dữ-liệu-theo-hàngcột-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lấy dữ liệu theo hàng/cột</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb23-1" class="hljs-ln-code"><a href="#cb23-1"></a><span class="co"># lấy dữ liệu tại hàng thứ 5, cột thứ 2</span></span>
<span id="cb23-2" class="hljs-ln-code"><a href="#cb23-2"></a>df[<span class="dv">5</span> ,<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lấy-dữ-liệu-theo-hàngcột-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lấy dữ liệu theo hàng/cột</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb24-1" class="hljs-ln-code"><a href="#cb24-1"></a><span class="co"># lấy dữ liệu tại hàng thứ 5, cột thứ 2</span></span>
<span id="cb24-2" class="hljs-ln-code"><a href="#cb24-2"></a>df[<span class="dv">5</span> ,<span class="dv">2</span>]</span>
<span id="cb24-3" class="hljs-ln-code"><a href="#cb24-3"></a><span class="co"># lấy dữ liệu tại hàng thứ 5, cột "vgb_truoc_24"</span></span>
<span id="cb24-4" class="hljs-ln-code"><a href="#cb24-4"></a>df[<span class="dv">5</span> , <span class="st">"vgb_truoc_24"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lấy-dữ-liệu-theo-hàngcột-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lấy dữ liệu theo hàng/cột</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb25-1" class="hljs-ln-code"><a href="#cb25-1"></a><span class="co"># lấy dữ liệu tại hàng thứ 5, cột thứ 2</span></span>
<span id="cb25-2" class="hljs-ln-code"><a href="#cb25-2"></a>df[<span class="dv">5</span> ,<span class="dv">2</span>]</span>
<span id="cb25-3" class="hljs-ln-code"><a href="#cb25-3"></a><span class="co"># lấy dữ liệu tại hàng thứ 5, cột "vgb_truoc_24"</span></span>
<span id="cb25-4" class="hljs-ln-code"><a href="#cb25-4"></a>df[<span class="dv">5</span> , <span class="st">"vgb_truoc_24"</span>]</span>
<span id="cb25-5" class="hljs-ln-code"><a href="#cb25-5"></a><span class="co"># lấy hàng thứ 5 trong bảng df</span></span>
<span id="cb25-6" class="hljs-ln-code"><a href="#cb25-6"></a>df[<span class="dv">5</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lấy-dữ-liệu-theo-hàngcột-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lấy dữ liệu theo hàng/cột</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb26-1" class="hljs-ln-code"><a href="#cb26-1"></a><span class="co"># lấy dữ liệu tại hàng thứ 5, cột thứ 2</span></span>
<span id="cb26-2" class="hljs-ln-code"><a href="#cb26-2"></a>df[<span class="dv">5</span> ,<span class="dv">2</span>]</span>
<span id="cb26-3" class="hljs-ln-code"><a href="#cb26-3"></a><span class="co"># lấy dữ liệu tại hàng thứ 5, cột "vgb_truoc_24"</span></span>
<span id="cb26-4" class="hljs-ln-code"><a href="#cb26-4"></a>df[<span class="dv">5</span> , <span class="st">"vgb_truoc_24"</span>]</span>
<span id="cb26-5" class="hljs-ln-code"><a href="#cb26-5"></a><span class="co"># lấy hàng thứ 5 trong bảng df</span></span>
<span id="cb26-6" class="hljs-ln-code"><a href="#cb26-6"></a>df[<span class="dv">5</span>, ]</span>
<span id="cb26-7" class="hljs-ln-code"><a href="#cb26-7"></a><span class="co">#lấy các cột id, ngaysinh, vgb_truoc_24</span></span>
<span id="cb26-8" class="hljs-ln-code"><a href="#cb26-8"></a>df[, <span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"ngaysinh"</span>, <span class="st">"vgb_truoc_24"</span>)] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lấy-dữ-liệu-theo-hàngcột-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lấy dữ liệu theo hàng/cột</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb27-1" class="hljs-ln-code"><a href="#cb27-1"></a><span class="co"># lấy dữ liệu tại hàng thứ 5, cột thứ 2</span></span>
<span id="cb27-2" class="hljs-ln-code"><a href="#cb27-2"></a>df[<span class="dv">5</span> ,<span class="dv">2</span>]</span>
<span id="cb27-3" class="hljs-ln-code"><a href="#cb27-3"></a><span class="co"># lấy dữ liệu tại hàng thứ 5, cột "vgb_truoc_24"</span></span>
<span id="cb27-4" class="hljs-ln-code"><a href="#cb27-4"></a>df[<span class="dv">5</span> , <span class="st">"vgb_truoc_24"</span>]</span>
<span id="cb27-5" class="hljs-ln-code"><a href="#cb27-5"></a><span class="co"># lấy hàng thứ 5 trong bảng df</span></span>
<span id="cb27-6" class="hljs-ln-code"><a href="#cb27-6"></a>df[<span class="dv">5</span>, ]</span>
<span id="cb27-7" class="hljs-ln-code"><a href="#cb27-7"></a><span class="co">#lấy các cột id, ngaysinh, vgb_truoc_24</span></span>
<span id="cb27-8" class="hljs-ln-code"><a href="#cb27-8"></a>df[, <span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"ngaysinh"</span>, <span class="st">"vgb_truoc_24"</span>)] </span>
<span id="cb27-9" class="hljs-ln-code"><a href="#cb27-9"></a><span class="co">#lấy 10 hàng đầu tiên của các cột Country, Year, GDP</span></span>
<span id="cb27-10" class="hljs-ln-code"><a href="#cb27-10"></a><span class="co">#1:10 là cú pháp nhanh để tạo chuỗi từ 1 đến 10</span></span>
<span id="cb27-11" class="hljs-ln-code"><a href="#cb27-11"></a>df[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"ngaysinh"</span>, <span class="st">"vgb_truoc_24"</span>)] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="chuyển-đổi-datatype-cho-cột" class="slide level2">
<h2>Chuyển đổi datatype cho cột</h2>
<p>Khi đọc dữ liệu vào R, các cột sẽ được tự động chuyển thành datatype hợp lý nhất</p>
<p>Tuy nhiên, có nhiều cột cần người dùng chuyển một cách thủ công</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">str</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [1,000 × 21] (S3: tbl_df/tbl/data.frame)
 $ id          : num [1:1000] 1 2 3 4 5 6 7 8 9 10 ...
 $ gioitinh    : chr [1:1000] "nam" "nam" "nữ" "nữ" ...
 $ ngaysinh    : chr [1:1000] "19/02/2024" "04/03/2024" "29/02/2024" "10/02/2024" ...
 $ huyen       : chr [1:1000] "Bình Chánh" "Huyện Sơn Tịnh" "Quận 12" "Cần Giờ" ...
 $ xa          : chr [1:1000] "Xã Tân Quý Tây" "Phường 12" "Trung Mỹ Tây" "Xã Thạnh An" ...
 $ tinh        : chr [1:1000] "Thành phố Hồ Chí Minh" "Thành phố Hồ Chí Minh" "Thành phố Hồ Chí Minh" "Thành phố Hồ Chí Minh" ...
 $ vgb_truoc_24: chr [1:1000] "20/02/2024" "04/03/2024" NA "10/02/2024" ...
 $ vgb_sau_24  : chr [1:1000] "20/02/2024" "04/03/2024" "01/03/2024" "10/02/2024" ...
 $ vgb_1       : chr [1:1000] "28/02/2024" "18/03/2024" "01/03/2024" "19/02/2024" ...
 $ vgb_2       : chr [1:1000] "05/03/2024" NA "05/03/2024" NA ...
 $ vgb_3       : chr [1:1000] "05/03/2024" "17/04/2024" NA "18/03/2024" ...
 $ vgb4        : chr [1:1000] "06/03/2024" "21/04/2024" NA "02/04/2024" ...
 $ hg_1        : chr [1:1000] "20/02/2024" "04/03/2024" "01/03/2024" "10/02/2024" ...
 $ hg_2        : chr [1:1000] "05/03/2024" "19/03/2024" "08/03/2024" "17/02/2024" ...
 $ hg_3        : chr [1:1000] "04/03/2024" NA "20/03/2024" "17/02/2024" ...
 $ hg4         : chr [1:1000] "04/03/2024" "03/04/2024" "03/04/2024" "18/02/2024" ...
 $ uv_1        : chr [1:1000] "20/02/2024" "04/03/2024" "01/03/2024" NA ...
 $ uv_2        : chr [1:1000] "03/03/2024" "16/03/2024" "14/03/2024" "23/02/2024" ...
 $ uv_3        : chr [1:1000] "10/03/2024" "20/03/2024" NA "02/03/2024" ...
 $ uv_4        : chr [1:1000] "14/03/2024" "29/03/2024" "27/03/2024" "06/03/2024" ...
 $ tinhtrang   : chr [1:1000] "ngừng theo dõi" "ngừng theo dõi" "ngừng theo dõi" "theo dõi" ...</code></pre>
</div>
</div>
</section>
<section id="chuyển-đổi-datatype-cho-cột-1" class="slide level2">
<h2>Chuyển đổi datatype cho cột</h2>
<p>Các cột cần chuyển thủ công</p>
<ul>
<li><p>Các cột ngày tháng (<code>ngaysinh</code> và các cột ngày tiêm): R không thể tự động chuyển sang <code>Date</code> vì format trong dữ liệu (<code>dd/MM/YYYY</code>) không phải format thông dụng</p></li>
<li><p>Cột <code>gioitinh</code> nên được đổi thành <code>factor</code> để hỗ trợ trong quá trình phân tích về sau</p></li>
<li><p>Cột <code>tinhtrang</code> nên được đổi thành <code>logical</code> để thể hiện đúng ý nghĩa là biến đúng/sai</p></li>
</ul>
<p>Để thay đổi datatype của cột, ta có thể áp dụng các <a href="#/update_datatype">function từ phần trước</a>.</p>
</section>
<section id="chuyển-đổi-datatype-cho-cột-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Chuyển đổi datatype cho cột</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb30-1" class="hljs-ln-code"><a href="#cb30-1"></a>date_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ngaysinh"</span>, <span class="st">"vgb_truoc_24"</span>,<span class="st">"vgb_sau_24"</span>,</span>
<span id="cb30-2" class="hljs-ln-code"><a href="#cb30-2"></a>               <span class="st">"vgb_1"</span>,<span class="st">"vgb_2"</span>,<span class="st">"vgb_3"</span>,<span class="st">"vgb4"</span>,<span class="st">"hg_1"</span>,<span class="st">"hg_2"</span>,</span>
<span id="cb30-3" class="hljs-ln-code"><a href="#cb30-3"></a>               <span class="st">"hg_3"</span>,<span class="st">"hg4"</span>,<span class="st">"uv_1"</span>,<span class="st">"uv_2"</span>,<span class="st">"uv_3"</span>,<span class="st">"uv_4"</span>)</span>
<span id="cb30-4" class="hljs-ln-code"><a href="#cb30-4"></a></span>
<span id="cb30-5" class="hljs-ln-code"><a href="#cb30-5"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb30-6" class="hljs-ln-code"><a href="#cb30-6"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-7" class="hljs-ln-code"><a href="#cb30-7"></a>    <span class="at">gioitinh =</span> <span class="fu">as.factor</span>(gioitinh),</span>
<span id="cb30-8" class="hljs-ln-code"><a href="#cb30-8"></a>    <span class="at">tinhtrang =</span> <span class="fu">ifelse</span>(tinhtrang <span class="sc">==</span> <span class="st">"theo dõi"</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb30-9" class="hljs-ln-code"><a href="#cb30-9"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb30-10" class="hljs-ln-code"><a href="#cb30-10"></a>  <span class="fu">mutate_at</span>(</span>
<span id="cb30-11" class="hljs-ln-code"><a href="#cb30-11"></a>    <span class="co"># áp dụng lệnh dmy lên tất cả các cột ngày</span></span>
<span id="cb30-12" class="hljs-ln-code"><a href="#cb30-12"></a>    date_cols, </span>
<span id="cb30-13" class="hljs-ln-code"><a href="#cb30-13"></a>    dmy</span>
<span id="cb30-14" class="hljs-ln-code"><a href="#cb30-14"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb30-15" class="hljs-ln-code"><a href="#cb30-15"></a>  <span class="fu">rename</span>(</span>
<span id="cb30-16" class="hljs-ln-code"><a href="#cb30-16"></a>    <span class="at">theodoi =</span> tinhtrang</span>
<span id="cb30-17" class="hljs-ln-code"><a href="#cb30-17"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p><code>mutate</code> được sử dụng để chỉnh sửa giá trị của cột hoặc tạo cột mới</p>
<p><code>mutate_at</code> được sử dụng khi cần chỉnh sửa nhiều cột cùng lúc</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="chuyển-đổi-datatype-cho-cột-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Chuyển đổi datatype cho cột</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb31-1" class="hljs-ln-code"><a href="#cb31-1"></a><span class="fu">str</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [1,000 × 21] (S3: tbl_df/tbl/data.frame)
 $ id          : num [1:1000] 1 2 3 4 5 6 7 8 9 10 ...
 $ gioitinh    : Factor w/ 2 levels "nam","nữ": 1 1 2 2 2 1 1 1 2 1 ...
 $ ngaysinh    : Date[1:1000], format: "2024-02-19" "2024-03-04" ...
 $ huyen       : chr [1:1000] "Bình Chánh" "Huyện Sơn Tịnh" "Quận 12" "Cần Giờ" ...
 $ xa          : chr [1:1000] "Xã Tân Quý Tây" "Phường 12" "Trung Mỹ Tây" "Xã Thạnh An" ...
 $ tinh        : chr [1:1000] "Thành phố Hồ Chí Minh" "Thành phố Hồ Chí Minh" "Thành phố Hồ Chí Minh" "Thành phố Hồ Chí Minh" ...
 $ vgb_truoc_24: Date[1:1000], format: "2024-02-20" "2024-03-04" ...
 $ vgb_sau_24  : Date[1:1000], format: "2024-02-20" "2024-03-04" ...
 $ vgb_1       : Date[1:1000], format: "2024-02-28" "2024-03-18" ...
 $ vgb_2       : Date[1:1000], format: "2024-03-05" NA ...
 $ vgb_3       : Date[1:1000], format: "2024-03-05" "2024-04-17" ...
 $ vgb4        : Date[1:1000], format: "2024-03-06" "2024-04-21" ...
 $ hg_1        : Date[1:1000], format: "2024-02-20" "2024-03-04" ...
 $ hg_2        : Date[1:1000], format: "2024-03-05" "2024-03-19" ...
 $ hg_3        : Date[1:1000], format: "2024-03-04" NA ...
 $ hg4         : Date[1:1000], format: "2024-03-04" "2024-04-03" ...
 $ uv_1        : Date[1:1000], format: "2024-02-20" "2024-03-04" ...
 $ uv_2        : Date[1:1000], format: "2024-03-03" "2024-03-16" ...
 $ uv_3        : Date[1:1000], format: "2024-03-10" "2024-03-20" ...
 $ uv_4        : Date[1:1000], format: "2024-03-14" "2024-03-29" ...
 $ theodoi     : logi [1:1000] FALSE FALSE FALSE TRUE FALSE TRUE ...</code></pre>
</div>
</div>
</section>
<section id="lọc-dữ-liệu" class="slide level2">
<h2>Lọc dữ liệu</h2>
<div class="r-fit-text">
<p>Function <code>filter()</code> được sử dụng cho việc lọc dữ liệu theo điều kiện</p>
<table>
<thead>
<tr class="header">
<th>Ký tự</th>
<th>Ý nghĩa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>x == y</code></td>
<td>x bằng y</td>
</tr>
<tr class="even">
<td><code>x != y</code></td>
<td>x không bằng y</td>
</tr>
<tr class="odd">
<td><code>y &lt; x</code></td>
<td>x nhỏ hơn y</td>
</tr>
<tr class="even">
<td><code>y &lt;= x</code></td>
<td>x nhỏ hơn hoặc bằng y</td>
</tr>
<tr class="odd">
<td><code>is.na(x)</code></td>
<td>x trống</td>
</tr>
<tr class="even">
<td><code>A &amp; B</code></td>
<td>A và B</td>
</tr>
<tr class="odd">
<td><code>A | B</code></td>
<td>A hoặc B</td>
</tr>
<tr class="even">
<td><code>!</code></td>
<td>Không là (NOT)</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="lọc-dữ-liệu-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lọc dữ liệu</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb33-1" class="hljs-ln-code"><a href="#cb33-1"></a><span class="co"># Lọc các dữ liệu của quận 2</span></span>
<span id="cb33-2" class="hljs-ln-code"><a href="#cb33-2"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(huyen <span class="sc">==</span> <span class="st">"Quận 2"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lọc-dữ-liệu-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lọc dữ liệu</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb34-1" class="hljs-ln-code"><a href="#cb34-1"></a><span class="co"># Lọc các dữ liệu của quận 2</span></span>
<span id="cb34-2" class="hljs-ln-code"><a href="#cb34-2"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(huyen <span class="sc">==</span> <span class="st">"Quận 2"</span>) </span>
<span id="cb34-3" class="hljs-ln-code"><a href="#cb34-3"></a><span class="co"># Lọc các trẻ có ngày tiêm vgb_1 trước ngày 20/2/2024 </span></span>
<span id="cb34-4" class="hljs-ln-code"><a href="#cb34-4"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(vgb_1 <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2024-02-20"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lọc-dữ-liệu-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lọc dữ liệu</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb35-1" class="hljs-ln-code"><a href="#cb35-1"></a><span class="co"># Lọc các dữ liệu của quận 2</span></span>
<span id="cb35-2" class="hljs-ln-code"><a href="#cb35-2"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(huyen <span class="sc">==</span> <span class="st">"Quận 2"</span>) </span>
<span id="cb35-3" class="hljs-ln-code"><a href="#cb35-3"></a><span class="co"># Lọc các trẻ có ngày tiêm vgb_1 trước ngày 20/2/2024 </span></span>
<span id="cb35-4" class="hljs-ln-code"><a href="#cb35-4"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(vgb_1 <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2024-02-20"</span>)) </span>
<span id="cb35-5" class="hljs-ln-code"><a href="#cb35-5"></a><span class="co"># Lọc các trẻ ở quận 2 hoặc trước ngày 20/02/2024</span></span>
<span id="cb35-6" class="hljs-ln-code"><a href="#cb35-6"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(huyen <span class="sc">==</span> <span class="st">"Quận 2"</span> <span class="sc">|</span> vgb_1 <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2024-02-20"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lọc-dữ-liệu-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lọc dữ liệu</h2>
<p>Ví dụ:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb36-1" class="hljs-ln-code"><a href="#cb36-1"></a><span class="co"># Lọc các dữ liệu của quận 2</span></span>
<span id="cb36-2" class="hljs-ln-code"><a href="#cb36-2"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(huyen <span class="sc">==</span> <span class="st">"Quận 2"</span>)</span>
<span id="cb36-3" class="hljs-ln-code"><a href="#cb36-3"></a><span class="co"># Lọc các trẻ có ngày tiêm vgb_1 trước ngày 20/2/2024 </span></span>
<span id="cb36-4" class="hljs-ln-code"><a href="#cb36-4"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(vgb_1 <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2024-02-20"</span>)) </span>
<span id="cb36-5" class="hljs-ln-code"><a href="#cb36-5"></a><span class="co"># Lọc các trẻ ở quận 2 hoặc trước ngày 20/02/2024</span></span>
<span id="cb36-6" class="hljs-ln-code"><a href="#cb36-6"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(huyen <span class="sc">==</span> <span class="st">"Quận 2"</span> <span class="sc">|</span> vgb_1 <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2024-02-20"</span>))</span>
<span id="cb36-7" class="hljs-ln-code"><a href="#cb36-7"></a><span class="co"># Lọc các trẻ ở quận 2 và trước ngày 20/02/2024</span></span>
<span id="cb36-8" class="hljs-ln-code"><a href="#cb36-8"></a>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(huyen <span class="sc">==</span> <span class="st">"Quận 2"</span> <span class="sc">&amp;</span> vgb_1 <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2024-02-20"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="package-cho-các-datatype-phức-tạp" class="title-slide slide level1 center">
<h1>Package cho các datatype phức tạp</h1>

</section>
<section id="dữ-liệu-string" class="slide level2">
<h2>Dữ liệu string</h2>
<p>Gói <code>stringr</code> (1 trong các package trong <code>tidyverse</code>) thường được sử dụng để xử lý các dữ liệu dạng string.</p>
<p>Ngoài ra, R còn có package <code>stringi</code> dành cho các mục đích cụ thể khác (VD như xử lý dấu, cách mã hoá văn bản, … )</p>
</section>
<section id="các-hàm-thông-dụng-cho-string" class="slide level2">
<h2>Các hàm thông dụng cho string</h2>
<table style="width:99%;">
<colgroup>
<col style="width: 29%">
<col style="width: 20%">
<col style="width: 48%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function</strong></td>
<td><strong>Package</strong></td>
<td><strong>Công dụng</strong></td>
</tr>
<tr class="even">
<td><code>tolower</code></td>
<td>base</td>
<td>biến thành chữ thường</td>
</tr>
<tr class="odd">
<td><code>toupper</code></td>
<td>base</td>
<td>biến thành chữ hoa</td>
</tr>
<tr class="even">
<td><code>str_to_title</code></td>
<td>stringr</td>
<td>in hoa chữ cái đầu tiên của từng từ</td>
</tr>
<tr class="odd">
<td><code>stri_trans_general</code></td>
<td>stringi</td>
<td>loại bỏ dấu</td>
</tr>
</tbody>
</table>
</section>
<section id="các-hàm-thông-dụng-cho-string-1" class="slide level2">
<h2>Các hàm thông dụng cho string</h2>
<p>VD: xoá dấu trong cột <code>tinh</code> <code>huyen</code> <code>xa</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">library</span>(stringi)</span>
<span id="cb37-2"><a href="#cb37-2"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb37-3"><a href="#cb37-3"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-4"><a href="#cb37-4"></a>    <span class="at">tinh_mod =</span> <span class="fu">stri_trans_general</span>(tinh, <span class="st">"latin-ascii"</span>),</span>
<span id="cb37-5"><a href="#cb37-5"></a>    <span class="at">huyen_mod =</span> <span class="fu">stri_trans_general</span>(huyen, <span class="st">"latin-ascii"</span>),</span>
<span id="cb37-6"><a href="#cb37-6"></a>    <span class="at">xa_mod =</span> <span class="fu">stri_trans_general</span>(xa, <span class="st">"latin-ascii"</span>)</span>
<span id="cb37-7"><a href="#cb37-7"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-8"><a href="#cb37-8"></a>  <span class="fu">select</span>(id, tinh, tinh_mod, huyen, huyen_mod, xa, xa_mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,000 × 7
      id tinh                  tinh_mod             huyen huyen_mod xa    xa_mod
   &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;                &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; 
 1     1 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Bình… Binh Cha… Xã T… Xa Ta…
 2     2 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Huyệ… Huyen So… Phườ… Phuon…
 3     3 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Quận… Quan 12   Trun… Trung…
 4     4 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Cần … Can Gio   Xã T… Xa Th…
 5     5 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Thàn… Thanh ph… Phườ… Phuon…
 6     6 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Quận… Quan 6    Xã B… Xa Bi…
 7     7 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Quận… Quan 8    Phườ… Phuon…
 8     8 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Nhà … Nha Be    Xã P… Xa Ph…
 9     9 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Thủ … Thu Duc   Phườ… Phuon…
10    10 Thành phố Hồ Chí Minh Thanh pho Ho Chi Mi… Thủ … Thu Duc   Phườ… Phuon…
# ℹ 990 more rows</code></pre>
</div>
</div>
</section>
<section id="các-hàm-hỗ-trợ-lọc-thông-dụng-của-stringr" class="slide level2">
<h2>Các hàm hỗ trợ lọc thông dụng của stringr</h2>
<div class="r-fit-text">
<table>
<colgroup>
<col style="width: 20%">
<col style="width: 79%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function</strong></td>
<td><strong>Công dụng</strong></td>
</tr>
<tr class="even">
<td><code>str_starts</code></td>
<td>lọc hàng bắt đầu bằng chuỗi ký tự khớp với pattern</td>
</tr>
<tr class="odd">
<td><code>str_ends</code></td>
<td>lọc hàng kết thúc bằng bằng chuỗi ký tự khớp với pattern</td>
</tr>
<tr class="even">
<td><code>str_detect</code></td>
<td>lọc hàng có chứa chuỗi ký tự khớp với pattern</td>
</tr>
<tr class="odd">
<td><code>str_interp</code></td>
<td>chèn giá trị vào string (string interpolation)</td>
</tr>
<tr class="even">
<td><code>str_replace</code></td>
<td>thay thế 1 chuỗi con (substring) đầu tiên khớp với pattern bằng 1 chuỗi mới</td>
</tr>
<tr class="odd">
<td><code>str_replace_all</code></td>
<td>thay thế tất cả chuỗi con (substring) khớp với pattern bằng 1 chuỗi mới</td>
</tr>
</tbody>
</table>
<div class="center-text">
<p><a href="https://stringr.tidyverse.org/reference/index.html" class="btn btn-outline-secondary" role="button"> stringr functions</a></p>
</div>
</div>
</section>
<section id="regex" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Regex</h2>
<p>Trong R, regex là 1 ngôn ngữ ngắn gọn để mô tả các patterns trong string</p>
<p>Có bốn công cụ cơ bản mà người dùng có thể sử dụng để tạo một biểu thức chính quy cơ bản:</p>
<p><strong>Nhóm</strong></p>
<p><strong>Bộ ký tự</strong></p>
<p><strong>Siêu ký tự</strong></p>
<p><strong>Bộ định lượng</strong></p>
</section>
<section id="regex-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Regex</h2>
<p><strong>Nhóm</strong></p>
<p>Chỉ định các chuỗi cần khớp. Thường được viết trong<code>()</code> và phân cách bởi dấu <code>|</code></p>
<p><em>VD</em>: <code>"(Quận|Huyện)"</code> - quy định cần khớp chữ <code>"Quận"</code> hay <code>"Huyện"</code>.</p>
<p><strong>Bộ ký tự</strong></p>
<p>string được đánh giá khớp tìm thấy bất kỳ ký tự nào trong dấu ngoặc <code>[ ]</code> trong chuỗi.</p>
<p><em>VD:</em> để tìm string chứa các nguyên âm, người ta có thể sử dụng bộ ký tự này: <code>"[aeiou]"</code>.</p>
</section>
<section id="regex-2" class="slide level2" data-auto-animate="true" style="width:1200">
<h2 data-id="quarto-animate-title">Regex</h2>
<div class="r-fit-text">
<p><strong>Bộ ký tự</strong></p>
<p>string được đánh giá khớp tìm thấy bất kỳ ký tự nào trong dấu ngoặc <code>[ ]</code> trong chuỗi.</p>
<p><em>VD:</em> để tìm string chứa các nguyên âm, người ta có thể sử dụng bộ ký tự này: <code>"[aeiou]"</code>.</p>
<p>Các bộ ký tự đặc biệt trong R</p>
<div class="r-hstack">
<table>
<colgroup>
<col style="width: 35%">
<col style="width: 64%">
</colgroup>
<thead>
<tr class="header">
<th>Bộ ký tự</th>
<th>Ý nghĩa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>"[A-Z]"</code></td>
<td>bất kỳ chữ cái viết hoa đơn lẻ nào</td>
</tr>
<tr class="even">
<td><code>"[a-z]"</code></td>
<td>bất kỳ chữ cái viết thường đơn lẻ nào</td>
</tr>
<tr class="odd">
<td><code>"[0-9]"</code></td>
<td>bất kỳ số nào</td>
</tr>
<tr class="even">
<td><code>"[:alnum:]"</code></td>
<td>bất kỳ chữ cái và số nào</td>
</tr>
<tr class="odd">
<td><code>"[:digit:]"</code></td>
<td>bất kỳ chữ số nào</td>
</tr>
<tr class="even">
<td><code>"[:alpha:]"</code></td>
<td>bất kỳ ký tự nào (viết hoa hoặc viết thường)</td>
</tr>
<tr class="odd">
<td><code>"[:upper:]"</code></td>
<td>bất kỳ ký tự viết hoa nào</td>
</tr>
<tr class="even">
<td><code>"[:lower:]"</code></td>
<td>bất kỳ ký tự viết thường nào</td>
</tr>
</tbody>
</table>
<div class="fragment">
<p><strong>Siêu ký tự</strong> là bản rút ngắn của một số bộ ký tự</p>
<table>
<thead>
<tr class="header">
<th>Siêu ký tự</th>
<th>Ý nghĩa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>"\\s"</code></td>
<td>khoảng trắng đơn</td>
</tr>
<tr class="even">
<td><code>"\\w"</code></td>
<td>tương đương “[:alnum:]”</td>
</tr>
<tr class="odd">
<td><code>"\\d"</code></td>
<td>tương đương “[:digit:]”</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="regex-3" class="slide level2">
<h2>Regex</h2>
<div class="r-fit-text">
<p><strong>Bộ định lượng</strong> chỉ định độ dài của pattern</p>
<p>Bộ định lượng là các số được viết trong dấu ngoặc nhọn <code>{ }</code> sau pattern mà chúng đang định lượng.</p>
<p>Ngoài ra có 2 ký tự đặc biệt khác cho bộ định lượng, bao gồm:</p>
<ul>
<li><p>Dấu <code>*</code> : khớp khi có 0 hoặc nhiều hơn pattern được định lượng.</p></li>
<li><p>Dấu <code>+</code> : khớp khi có 1 hoặc nhiều hơn pattern được định lượng.</p></li>
</ul>
<div class="fragment">
<p><em>VD</em>:</p>
<ul>
<li><p><code>"A{2}"</code> quy định khớp khi có hai chữ cái A viết hoa.</p></li>
<li><p><code>"[:digit:]{2}"</code> quy định khớp khi có hai chữ số.</p></li>
<li><p><code>"[:alpha:]+"</code> quy định khớp khi có ít nhất 1 chữ cái.</p></li>
</ul>
</div>
</div>
</section>
<section id="sử-dụng-hàm-của-stringr-cùng-regex" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Sử dụng hàm của <code>stringr</code> cùng regex</h2>
<p><strong><em>VD1</em></strong>: Tìm các hàng có xã số</p>
<ul>
<li>Chọn câu lệnh: cần tìm xã có <u>chứa</u> số –&gt; sử dụng <code>str_detect</code></li>
<li>Quy định pattern bằng regex: cần string chứa <u>số</u>-&gt; áp dụng <strong>Nhóm</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb39-1" class="hljs-ln-code"><a href="#cb39-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb39-2" class="hljs-ln-code"><a href="#cb39-2"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb39-3" class="hljs-ln-code"><a href="#cb39-3"></a>  <span class="fu">filter</span>(</span>
<span id="cb39-4" class="hljs-ln-code"><a href="#cb39-4"></a>    <span class="fu">str_detect</span>(xa, <span class="st">"[:digit:]"</span>)</span>
<span id="cb39-5" class="hljs-ln-code"><a href="#cb39-5"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sử-dụng-hàm-của-stringr-cùng-regex-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Sử dụng hàm của <code>stringr</code> cùng regex</h2>
<p><strong><em>VD1</em></strong>: Tìm các hàng có xã số</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb40-1" class="hljs-ln-code"><a href="#cb40-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb40-2" class="hljs-ln-code"><a href="#cb40-2"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb40-3" class="hljs-ln-code"><a href="#cb40-3"></a>  <span class="fu">filter</span>(</span>
<span id="cb40-4" class="hljs-ln-code"><a href="#cb40-4"></a>    <span class="fu">str_detect</span>(xa, <span class="st">"[:digit:]"</span>)</span>
<span id="cb40-5" class="hljs-ln-code"><a href="#cb40-5"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">select</span>(id, xa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 384 × 2
      id xa       
   &lt;dbl&gt; &lt;chr&gt;    
 1     2 Phường 12
 2     7 Phường 04
 3    14 1        
 4    15 Phường 06
 5    16 Phường 11
 6    21 Phường 01
 7    26 Phường 10
 8    30 Phường 11
 9    33 Phường 05
10    34 Phường 12
# ℹ 374 more rows</code></pre>
</div>
</div>
</section>
<section id="sử-dụng-hàm-của-stringr-cùng-regex-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Sử dụng hàm của <code>stringr</code> cùng regex</h2>
<p><strong><em>VD 2</em></strong>: cần tìm các trẻ ở quận Phú Nhuận hoặc Bình Thạnh</p>
<p>Chọn câu lệnh: cần lọc các hàng có <code>huyen</code> <u>chứa dòng chữ</u> “Phú Nhuận” hoặc “Bình Thạnh” –&gt; dùng lệnh <code>str_detect</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb42-1" class="hljs-ln-code"><a href="#cb42-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb42-2" class="hljs-ln-code"><a href="#cb42-2"></a>  <span class="fu">filter</span>(</span>
<span id="cb42-3" class="hljs-ln-code"><a href="#cb42-3"></a>    <span class="fu">str_detect</span>(</span>
<span id="cb42-4" class="hljs-ln-code"><a href="#cb42-4"></a>      huyen, </span>
<span id="cb42-5" class="hljs-ln-code"><a href="#cb42-5"></a>      <span class="st">"(Phú Nhuận|Bình Thạnh)"</span></span>
<span id="cb42-6" class="hljs-ln-code"><a href="#cb42-6"></a>    )</span>
<span id="cb42-7" class="hljs-ln-code"><a href="#cb42-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sử-dụng-hàm-của-stringr-cùng-regex-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Sử dụng hàm của <code>stringr</code> cùng regex</h2>
<p><strong><em>VD 2</em></strong>: cần tìm các trẻ ở quận Phú Nhuận hoặc Bình Thạnh</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb43-1" class="hljs-ln-code"><a href="#cb43-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb43-2" class="hljs-ln-code"><a href="#cb43-2"></a>  <span class="fu">filter</span>(</span>
<span id="cb43-3" class="hljs-ln-code"><a href="#cb43-3"></a>    <span class="fu">str_detect</span>(</span>
<span id="cb43-4" class="hljs-ln-code"><a href="#cb43-4"></a>      huyen, </span>
<span id="cb43-5" class="hljs-ln-code"><a href="#cb43-5"></a>      <span class="st">"(Phú Nhuận|Bình Thạnh)"</span></span>
<span id="cb43-6" class="hljs-ln-code"><a href="#cb43-6"></a>    )</span>
<span id="cb43-7" class="hljs-ln-code"><a href="#cb43-7"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">select</span>(id, huyen)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 47 × 2
      id huyen     
   &lt;dbl&gt; &lt;chr&gt;     
 1    39 Phú Nhuận 
 2   101 Bình Thạnh
 3   109 Phú Nhuận 
 4   110 Bình Thạnh
 5   148 Bình Thạnh
 6   173 Bình Thạnh
 7   189 Bình Thạnh
 8   192 Bình Thạnh
 9   202 Phú Nhuận 
10   210 Bình Thạnh
# ℹ 37 more rows</code></pre>
</div>
</div>
</section>
<section id="dữ-liệu-ngày-tháng" class="slide level2">
<h2>Dữ liệu ngày tháng</h2>
<div class="r-fit-text">
<p>Đối với dữ liệu dạng ngày tháng, package thông dụng nhất là <code>lubridate</code> (cũng là 1 phần của tidyverse).</p>
<p>Các lệnh liên quan đến ngày tháng</p>
<table style="width:99%;">
<colgroup>
<col style="width: 23%">
<col style="width: 58%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Công dụng</th>
<th>Package</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>difftime</code></td>
<td>tính khoảng cách giữa hai mốc thời gian</td>
<td>base</td>
</tr>
<tr class="even">
<td><code>month</code>/<code>year</code></td>
<td>lấy tháng/ năm</td>
<td>lubridate</td>
</tr>
<tr class="odd">
<td><code>quarter</code></td>
<td>chuyển ngày sang quý</td>
<td>lubridate</td>
</tr>
<tr class="even">
<td><code>today</code></td>
<td>lấy ngày hiện tại</td>
<td>lubridate</td>
</tr>
<tr class="odd">
<td><code>dmy</code>, <code>ymd</code>, <code>mdy</code></td>
<td>chuyển string theo nhiều format khác nhau sang ngày</td>
<td>lubridate</td>
</tr>
</tbody>
</table>
<div class="center-text">
<p><a href="https://lubridate.tidyverse.org/reference/index.html" class="btn btn-outline-secondary" role="button"> lubridate functions</a></p>
</div>
</div>
</section>
<section id="dữ-liệu-ngày-tháng-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Dữ liệu ngày tháng</h2>
<div class="r-fit-text">
<p>VD: tìm các trẻ được tiêm vgb_2 trong 1 tháng kể từ ngày sinh</p>
<ul>
<li>Cần tính khoảng thời gian từ lúc cấp chứng chỉ đến hiện tại -&gt; dùng lệnh <code>difftime()</code> với unit là days (difftime không có unit month) sau đó chia cho 365</li>
<li><u>hoặc</u> dùng lệnh <code>month</code> để lấy tháng của 2 mốc thời gian rồi trừ nhau</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb45-1" class="hljs-ln-code"><a href="#cb45-1"></a><span class="co"># --- Cách 1</span></span>
<span id="cb45-2" class="hljs-ln-code"><a href="#cb45-2"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb45-3" class="hljs-ln-code"><a href="#cb45-3"></a>  <span class="fu">filter</span>(</span>
<span id="cb45-4" class="hljs-ln-code"><a href="#cb45-4"></a>    <span class="co"># gọi difftime để tính khoảng cách thời gian</span></span>
<span id="cb45-5" class="hljs-ln-code"><a href="#cb45-5"></a>    <span class="fu">difftime</span>(vgb_2, ngaysinh, <span class="at">units =</span> <span class="st">"days"</span>)<span class="sc">/</span><span class="dv">30</span> <span class="sc">&lt;=</span> <span class="dv">2</span></span>
<span id="cb45-6" class="hljs-ln-code"><a href="#cb45-6"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">select</span>(id, ngaysinh, vgb_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 854 × 3
      id ngaysinh   vgb_2     
   &lt;dbl&gt; &lt;date&gt;     &lt;date&gt;    
 1     1 2024-02-19 2024-03-05
 2     3 2024-02-29 2024-03-05
 3     5 2024-03-21 2024-03-30
 4     7 2024-03-15 2024-03-18
 5     8 2024-04-01 2024-04-17
 6    10 2024-03-17 2024-04-04
 7    11 2024-03-19 2024-04-14
 8    12 2024-01-28 2024-02-13
 9    13 2024-01-25 2024-02-13
10    14 2024-03-07 2024-03-05
# ℹ 844 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="dữ-liệu-ngày-tháng-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Dữ liệu ngày tháng</h2>
<div class="r-fit-text">
<p>VD: tìm các trẻ được tiêm vgb_2 trong 1 tháng kể từ ngày sinh</p>
<ul>
<li>Cần tính khoảng thời gian từ lúc cấp chứng chỉ đến hiện tại -&gt; dùng lệnh <code>difftime()</code> với unit là days (difftime không có unit month) sau đó chia cho 365</li>
<li><u>hoặc</u> dùng lệnh <code>month</code> để lấy tháng của 2 mốc thời gian rồi trừ nhau</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb47-1" class="hljs-ln-code"><a href="#cb47-1"></a><span class="co"># --- Cách 1</span></span>
<span id="cb47-2" class="hljs-ln-code"><a href="#cb47-2"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb47-3" class="hljs-ln-code"><a href="#cb47-3"></a>  <span class="fu">filter</span>(</span>
<span id="cb47-4" class="hljs-ln-code"><a href="#cb47-4"></a>    <span class="co"># gọi difftime để tính khoảng cách thời gian</span></span>
<span id="cb47-5" class="hljs-ln-code"><a href="#cb47-5"></a>    <span class="fu">difftime</span>(vgb_2, ngaysinh, <span class="at">units =</span> <span class="st">"days"</span>)<span class="sc">/</span><span class="dv">30</span> <span class="sc">&lt;=</span> <span class="dv">2</span></span>
<span id="cb47-6" class="hljs-ln-code"><a href="#cb47-6"></a>  )</span>
<span id="cb47-7" class="hljs-ln-code"><a href="#cb47-7"></a></span>
<span id="cb47-8" class="hljs-ln-code"><a href="#cb47-8"></a><span class="co"># --- Cách 2</span></span>
<span id="cb47-9" class="hljs-ln-code"><a href="#cb47-9"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb47-10" class="hljs-ln-code"><a href="#cb47-10"></a>  <span class="fu">filter</span>(</span>
<span id="cb47-11" class="hljs-ln-code"><a href="#cb47-11"></a>    <span class="co"># Gọi month để lấy tháng sau đó trừ nhau</span></span>
<span id="cb47-12" class="hljs-ln-code"><a href="#cb47-12"></a>    <span class="fu">month</span>(vgb_2) <span class="sc">-</span> <span class="fu">month</span>(ngaysinh)  <span class="sc">&lt;=</span> <span class="dv">2</span></span>
<span id="cb47-13" class="hljs-ln-code"><a href="#cb47-13"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Trong 2 ví dụ trên, cách 1 sẽ chính xác hơn vì ta tính cả ngày khi sử dụng difftime còn cách 2 chỉ lấy 2 tháng trừ nhau</p>
</div>
</div>
</section>
<section id="lưu-bảng-dữ-liệu-sau-khi-chỉnh-sửa" class="slide level2">
<h2>Lưu bảng dữ liệu sau khi chỉnh sửa</h2>
<div class="r-fit-text">
<p>R cho phép lưu lại dữ liệu với nhiều format khác nhau, bao gồm:</p>
<ul>
<li><p>RData - định dạng dữ liệu của R để lưu trữ nhiều đối tượng</p></li>
<li><p>RDS - định dạng dữ liệu của R để lưu trữ 1 đối tượng</p></li>
<li><p>excel</p></li>
</ul>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Lưu ý</strong></p>
</div>
<div class="callout-content">
<p>Tốc độ đọc file RData và RDS của R nhanh hơn rất nhiều so với việc đọc file excel.<br>
Vì vậy, đối với các dữ liệu có số lượng lớn hoặc cần xử lý thêm trong R, nên lưu trữ dưới dạng RDS/Rdata.</p>
</div>
</div>
</div>
</div>
</section>
<section id="lưu-bảng-dữ-liệu-sau-khi-chỉnh-sửa-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lưu bảng dữ liệu sau khi chỉnh sửa</h2>
<p>VD<strong>:</strong> lưu dữ liệu</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb48-1" class="hljs-ln-code"><a href="#cb48-1"></a><span class="co"># định nghĩa đường dẫn đến folder chứa data</span></span>
<span id="cb48-2" class="hljs-ln-code"><a href="#cb48-2"></a>data_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">getwd</span>(), <span class="st">"data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lưu-bảng-dữ-liệu-sau-khi-chỉnh-sửa-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lưu bảng dữ liệu sau khi chỉnh sửa</h2>
<p>VD<strong>:</strong> lưu dữ liệu</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb49-1" class="hljs-ln-code"><a href="#cb49-1"></a><span class="co"># định nghĩa đường dẫn đến folder chứa data</span></span>
<span id="cb49-2" class="hljs-ln-code"><a href="#cb49-2"></a>data_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">getwd</span>(), <span class="st">"data"</span>)</span>
<span id="cb49-3" class="hljs-ln-code"><a href="#cb49-3"></a><span class="co"># lưu dưới dạng Rdata</span></span>
<span id="cb49-4" class="hljs-ln-code"><a href="#cb49-4"></a><span class="fu">save</span>(df, <span class="at">file =</span> <span class="fu">file.path</span>(data_path, <span class="st">"rda_data.Rda"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lưu-bảng-dữ-liệu-sau-khi-chỉnh-sửa-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lưu bảng dữ liệu sau khi chỉnh sửa</h2>
<p>VD<strong>:</strong> lưu dữ liệu</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb50-1" class="hljs-ln-code"><a href="#cb50-1"></a><span class="co"># định nghĩa đường dẫn đến folder chứa data</span></span>
<span id="cb50-2" class="hljs-ln-code"><a href="#cb50-2"></a>data_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">getwd</span>(), <span class="st">"data"</span>)</span>
<span id="cb50-3" class="hljs-ln-code"><a href="#cb50-3"></a><span class="co"># lưu dưới dạng Rdata</span></span>
<span id="cb50-4" class="hljs-ln-code"><a href="#cb50-4"></a><span class="fu">save</span>(df, <span class="at">file =</span> <span class="fu">file.path</span>(data_path, <span class="st">"rda_data.Rda"</span>))</span>
<span id="cb50-5" class="hljs-ln-code"><a href="#cb50-5"></a><span class="co"># lưu dưới dạng RDS</span></span>
<span id="cb50-6" class="hljs-ln-code"><a href="#cb50-6"></a><span class="fu">saveRDS</span>(df, <span class="at">file =</span> <span class="fu">file.path</span>(data_path, <span class="st">"rds_data.Rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lưu-bảng-dữ-liệu-sau-khi-chỉnh-sửa-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lưu bảng dữ liệu sau khi chỉnh sửa</h2>
<p>VD<strong>:</strong> lưu dữ liệu</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb51-1" class="hljs-ln-code"><a href="#cb51-1"></a><span class="co"># định nghĩa đường dẫn đến folder chứa data</span></span>
<span id="cb51-2" class="hljs-ln-code"><a href="#cb51-2"></a>data_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">getwd</span>(), <span class="st">"data"</span>)</span>
<span id="cb51-3" class="hljs-ln-code"><a href="#cb51-3"></a><span class="co"># lưu dưới dạng Rdata</span></span>
<span id="cb51-4" class="hljs-ln-code"><a href="#cb51-4"></a><span class="fu">save</span>(df, <span class="at">file =</span> <span class="fu">file.path</span>(data_path, <span class="st">"rda_data.Rda"</span>))</span>
<span id="cb51-5" class="hljs-ln-code"><a href="#cb51-5"></a><span class="co"># lưu dưới dạng RDS</span></span>
<span id="cb51-6" class="hljs-ln-code"><a href="#cb51-6"></a><span class="fu">saveRDS</span>(df, <span class="at">file =</span> <span class="fu">file.path</span>(data_path, <span class="st">"rds_data.Rds"</span>))</span>
<span id="cb51-7" class="hljs-ln-code"><a href="#cb51-7"></a><span class="co"># lưu dưới dạng file excel</span></span>
<span id="cb51-8" class="hljs-ln-code"><a href="#cb51-8"></a><span class="fu">write_xlsx</span>(df, <span class="at">path =</span> <span class="fu">file.path</span>(data_path, <span class="st">"excel_data.xlsx"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lưu-bảng-dữ-liệu-sau-khi-chỉnh-sửa-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lưu bảng dữ liệu sau khi chỉnh sửa</h2>
<p>VD: Đọc dữ liệu được lưu</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb52-1" class="hljs-ln-code"><a href="#cb52-1"></a><span class="co"># đọc file Rdata</span></span>
<span id="cb52-2" class="hljs-ln-code"><a href="#cb52-2"></a><span class="fu">load</span>(<span class="fu">file.path</span>(data_path, <span class="st">"rda_data.Rda"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lưu-bảng-dữ-liệu-sau-khi-chỉnh-sửa-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lưu bảng dữ liệu sau khi chỉnh sửa</h2>
<p>VD: Đọc dữ liệu được lưu</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb53-1" class="hljs-ln-code"><a href="#cb53-1"></a><span class="co"># đọc file Rdata</span></span>
<span id="cb53-2" class="hljs-ln-code"><a href="#cb53-2"></a><span class="fu">load</span>(<span class="fu">file.path</span>(data_path, <span class="st">"rda_data.Rda"</span>))</span>
<span id="cb53-3" class="hljs-ln-code"><a href="#cb53-3"></a><span class="co"># đọc file RDS</span></span>
<span id="cb53-4" class="hljs-ln-code"><a href="#cb53-4"></a><span class="fu">readRDS</span>(<span class="at">file =</span> <span class="fu">file.path</span>(data_path, <span class="st">"rds_data.Rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lưu-bảng-dữ-liệu-sau-khi-chỉnh-sửa-7" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Lưu bảng dữ liệu sau khi chỉnh sửa</h2>
<p>VD: Đọc dữ liệu được lưu</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb54-1" class="hljs-ln-code"><a href="#cb54-1"></a><span class="co"># đọc file Rdata</span></span>
<span id="cb54-2" class="hljs-ln-code"><a href="#cb54-2"></a><span class="fu">load</span>(<span class="fu">file.path</span>(data_path, <span class="st">"rda_data.Rda"</span>))</span>
<span id="cb54-3" class="hljs-ln-code"><a href="#cb54-3"></a><span class="co"># đọc file RDS</span></span>
<span id="cb54-4" class="hljs-ln-code"><a href="#cb54-4"></a><span class="fu">readRDS</span>(<span class="at">file =</span> <span class="fu">file.path</span>(data_path, <span class="st">"rds_data.Rds"</span>))</span>
<span id="cb54-5" class="hljs-ln-code"><a href="#cb54-5"></a><span class="co"># đọc file excel</span></span>
<span id="cb54-6" class="hljs-ln-code"><a href="#cb54-6"></a><span class="fu">read_excel</span>(df, <span class="at">path =</span> <span class="fu">file.path</span>(data_path, <span class="st">"excel_data.xlsx"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="kết-thúc-phần-1" class="slide level2">
<h2>Kết thúc phần 1</h2>
<p><img data-src="https://media.tenor.com/0m3HNSw2iLYAAAAi/pp-mini-penguin.gif"></p>
<p><img src="/logo.svg" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://drthinhong.com/r4babies/r_basics.html">Website</a></p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="r_basics_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="r_basics_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="r_basics_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="r_basics_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="r_basics_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="r_basics_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="r_basics_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="r_basics_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="r_basics_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="r_basics_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    <script type="text/javascript">
      function hyperlink_logo() {
        let logo = document.querySelector('img.slide-logo');
        const logo_cloned = logo.cloneNode(true);
        const link = document.createElement('a');
        // -----------------------------------------------------------
        // set the link for the logo here in `link.href` within quotes
        link.href = 'https://drthinhong.com';
        // -----------------------------------------------------------
        link.target = '_blank';
        link.appendChild(logo_cloned);
        logo.replaceWith(link);
      };
      
      window.document.addEventListener("DOMContentLoaded", function (event) {
        hyperlink_logo();
      });
    </script>
    

</body></html>